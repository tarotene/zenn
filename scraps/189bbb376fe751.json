{
  "title": "Rustlings: move_semantics ç·¨ ",
  "closed": true,
  "archived": false,
  "created_at": "2022-03-26",
  "comments": [
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "# Debugging `move_semantics1.rs`\n\næ—©é€Ÿã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è§£èª­:\n\n```\nâš ï¸  Compiling of exercises/move_semantics/move_semantics1.rs failed! Please try again. Here's the output:\nerror[E0596]: cannot borrow `vec1` as mutable, as it is not declared as mutable\n  --> exercises/move_semantics/move_semantics1.rs:13:5\n   |\n9  |     let vec1 = fill_vec(vec0);\n   |         ---- help: consider changing this to be mutable: `mut vec1`\n...\n13 |     vec1.push(88);\n   |     ^^^^ cannot borrow as mutable\n\nerror: aborting due to previous error\n\nFor more information about this error, try `rustc --explain E0596`.\n```\n\n`help: consider changing this to be mutable: mut vec1` ã¯å˜ãªã‚‹ Warning ã§ï¼Œç‰‡ã‚„ `cannot borrow as mutable` ã¯ Errorï¼ãŠäº’ã„ã«é€£é–¢ã—ã¦ã„ã‚‹ã®ã¯æ˜ã‚‰ã‹ï¼\n\næã‚‰ã `vec1` ã‚’ mutable ã«ã™ã‚‹ã ã‘ã§è§£æ±ºã—ãã†ï¼",
      "body_updated_at": "2022-03-26"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "ã§ã‚‚ï¼Œãã®å‰ã« move_semantics ã¨ã„ã†è¨€è‘‰ãŒè€³æ…£ã‚Œãªã„ã®ã§ï¼Œèª¿ã¹ã¦ã¿ã‚‹ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "ã•ã£ã¨æµã—èª­ã¿ã—ãŸ:\n\nhttps://cpplover.blogspot.com/2009/11/rvalue-reference_23.html\n\næ‰€æœ‰æ¨©ã¨ã„ã†æ¦‚å¿µã¯ C++ ã«ã‚‚ã‚ã£ã¦ï¼Œå®Ÿè³ªçš„ã«ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒãƒã‚¤ãƒ³ã‚¿ã‚’æ¨ªå–ã‚Šã™ã‚‹ã“ã¨ã‚’ã‚‚ã£ã¦æ‰€æœ‰æ¨©ãŒç§»å‹•ã—ãŸã¨è¡¨ç¾ã™ã‚‹ã‚‰ã—ã„ï¼",
      "body_updated_at": "2022-03-26"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "(im)mutability ã¨ {l/r}value ã®é–“ã«ã¯ä½•ã‹é–¢ä¿‚ãŒã‚ã‚Šãã†ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "https://qiita.com/yumetodo/items/8eae5714a6cfe1c0407d"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "ã‚ˆãåˆ†ã‹ã‚‰ãªã„ã‘ã©æ‰€æœ‰æ¨©ã‚’ä¸€éƒ¨æ‰‹æ”¾ã™ã“ã¨ == mutable ã«ã™ã‚‹ã“ã¨ï¼Œã¨ã„ã†ç†è§£ã§è‰¯ã„ã®ã‹ãªï¼\n\nå›°ã£ãŸã‚‰ä¿®æ­£ã™ã‚Œã°æ¸ˆã¿ãã†ã ã—ï¼Œä¸€æ—¦ã¯ã“ã®ç†è§£ã§ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "```\nğŸ‰ ğŸ‰  The code is compiling! ğŸ‰ ğŸ‰\n\nOutput:\n====================\nvec1 has length 3 content `[22, 44, 66]`\nvec1 has length 4 content `[22, 44, 66, 88]`\n\n====================\n\nYou can keep working on this exercise,\nor jump into the next one by removing the `I AM NOT DONE` comment:\n\n 2 |  // Make me compile! Execute `rustlings hint move_semantics1` for hints :)\n 3 |\n 4 |  // I AM NOT DONE\n 5 |\n 6 |  fn main() {\n```\n\né€šã£ãŸï¼Œã—ã‹ã—ã©ã†ã«ã‚‚æ°—æŒã¡æ‚ªã„ï¼\n\nã‚¬ãƒƒãƒ„ãƒªæ›¸ç±ã§å¾©ç¿’ã™ã‚‹ã®ã¯ã¾ãŸä»Šåº¦ã«ã—ã¦ï¼Œä¸€æ—¦ã¯ help ã‚’çœºã‚ã‚‹ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "ç­”ãˆãã®ã‚‚ã®ãŒæ›¸ã„ã¦ã‚ã£ãŸ:\n\n```bash\nrustlings hint move_semantics1\n# => So you've got the \"cannot borrow immutable local variable `vec1` as mutable\" error on line 13,\n# => right? The fix for this is going to be adding one keyword, and the addition is NOT on line 13\n# => where the error is.\n```"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "ã¾ã‚ã„ã„ã‚„ï¼Œæ¬¡è¡Œã“ã†ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "# Debugging `move_semantics2.rs`\n\n```\nâš ï¸  Compiling of exercises/move_semantics/move_semantics2.rs failed! Please try again. Here's the output:\nerror[E0382]: borrow of moved value: `vec0`\n  --> exercises/move_semantics/move_semantics2.rs:13:57\n   |\n8  |     let vec0 = Vec::new();\n   |         ---- move occurs because `vec0` has type `Vec<i32>`, which does not implement the `Copy` trait\n9  |\n10 |     let mut vec1 = fill_vec(vec0);\n   |                             ---- value moved here\n...\n13 |     println!(\"{} has length {} content `{:?}`\", \"vec0\", vec0.len(), vec0);\n   |                                                         ^^^^ value borrowed here after move\n\nerror: aborting due to previous error\n\nFor more information about this error, try `rustc --explain E0382`.\n```"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "ç´ ç›´ã«èª­ã¿è§£ã‘ã° copy trait ãŒå®Ÿè£…ã•ã‚Œã¦ã„ãªã„ã®ã§ move ãŒèµ·ã“ã£ã¦ã„ã‚‹ï¼Œã§æ¨æ¸¬ã¯\n\n1. move ã«ã‚ˆã£ã¦æ‰€æœ‰æ¨©ãŒæ”¾æ£„ã•ã‚ŒãŸ\n2. æ‰€æœ‰æ¨©ãŒæ”¾æ£„ã•ã‚ŒãŸã‚‚ã®ã‚’ borrow ã™ã‚‹ã“ã¨ã¯ã§ããªã„ã®ã§ã‚¨ãƒ©ãƒ¼\n"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "trait ã¨ã‹ borrowing ã®æ¦‚å¿µãŒã¾ã è‰¯ãç†è§£ã§ãã¦ãªã„ã‘ã©ã“ã“ã¾ã§ã®æƒ…å ±ã‹ã‚‰çµ„ã¿ä¸Šã’ãŸã‚¹ãƒˆãƒ¼ãƒªãƒ¼ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "å®Ÿç›´ã«ã¯ï¼Œcopy trait ã®å®Ÿè£…ã§ã“ã‚Œã‚’ã‚¬ãƒ¼ãƒ‰ã™ã‚Œã°ä¸‡äº‹è§£æ±ºï¼Ÿ\n\nãã‚Œã«ã—ã¦ã‚‚ï¼ŒRust ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯æ–‡è„ˆçš„ãªã“ã¨ã‚’èª­ã¿å–ã‚Šï¼ˆæ¨æ¸¬ã—ï¼‰éããªæ°—ãŒã™ã‚‹ï¼ã‚ˆãæ°—ãŒä»˜ããªã¨ã„ã†ã‹ï¼Œä»–ã®å¯èƒ½æ€§ã‚’é™¤å¤–ã§ãã¦ã„ã‚‹ã®ã‹ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "ã„ã‚„ï¼Œçµ„ã¿è¾¼ã¿å‹ã® `Vec<i32>` ã«æ–°ã—ã„ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè£…ã¯éç¾å®Ÿçš„ã‹ï¼ã¨ã„ã†ã‹ï¼Œãƒˆãƒ¬ã‚¤ãƒˆã£ã¦ C++ ã§ã„ã†ã¨ã“ã‚ã®ç‰¹æ®Šãƒ¡ãƒ³ãƒé–¢æ•°ã®ã“ã¨ã‹ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "å·¦è¾ºå€¤å‚ç…§ã£ã½ã„ã‚‚ã®ã«æŸç¸›ã—ã¦ã‚ã’ã‚‹ã‹ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "ãƒ€ãƒ¡ã ã£ãŸ:\n\n```\nâš ï¸  Compiling of exercises/move_semantics/move_semantics2.rs failed! Please try again. Here's the output:\nerror[E0382]: use of moved value: `vec0`\n  --> exercises/move_semantics/move_semantics2.rs:12:29\n   |\n8  |     let vec0 = Vec::new();\n   |         ---- move occurs because `vec0` has type `Vec<i32>`, which does not implement the `Copy` trait\n9  |\n10 |     let vec0_5 = vec0;\n   |                  ---- value moved here\n11 |\n12 |     let mut vec1 = fill_vec(vec0);\n   |                             ^^^^ value used here after move\n\nerror: aborting due to previous error\n\nFor more information about this error, try `rustc --explain E0382`.\n```"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "å•é¡Œã‚’å…ˆå»¶ã°ã—ã«ã—ãŸã ã‘ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "å‡¦ç†ã®é †åºã‚’äº¤æ›ã—ãŸã‚‰ã†ã¾ãã„ã£ãŸï¼\n\n```\nğŸ‰ ğŸ‰  The code is compiling! ğŸ‰ ğŸ‰\n\nOutput:\n====================\nvec0 has length 0 content `[]`\nvec1 has length 4 content `[22, 44, 66, 88]`\n\n====================\n\nYou can keep working on this exercise,\nor jump into the next one by removing the `I AM NOT DONE` comment:\n\n 3 |  // Execute `rustlings hint move_semantics2` for hints :)\n 4 |\n 5 |  // I AM NOT DONE\n 6 |\n 7 |  fn main() {\n```"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "ã“ã‚Œã£ã¦ã‚¢ãƒ¬ã ã­ï¼ŒC ã¨ã‹ C++ ã§ã‚‚ä½•ã¨ãªãå¤‰æ•°ã®ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã‚’æ„è­˜ã—ã¦è¡Œå˜ä½ã§å‡é›†åº¦ã®é«˜ã„ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¨ã„ã†ç¿’æ…£ãŒã‚ã‚‹ã‘ã©ï¼Œãã‚Œã‚’è¨€èªã¨ã—ã¦å¼·åˆ¶ã™ã‚‹æ©Ÿèƒ½ã ã­ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "æ™®æ®µã‹ã‚‰ç„¡æ„è­˜ã«ã‚„ã£ã¦ã„ã‚‹ã“ã¨ã‚’ãã¡ã‚“ã¨åå‰ã¤ã‘ã¦ã‚„ã‚‰ã•ã‚Œã‚‹ã‚„ã¤ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "# Debugging: `move_semantics3.rs`\n\né–¢æ•°å¼•æ•°ã« `mut` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä»˜åŠ ã™ã‚‹ã¨å†…éƒ¨ã§å¼„ã£ã¦ã‚¢ãƒ¬ã‚³ãƒ¬ã§ãã‚‹å‚ç…§æ¸¡ã—ã«ãªã‚‹ã¨ã„ã†ã‚„ã¤ã‹ï¼Œã‚ˆãåˆ†ã‹ã‚‰ã‚“ã‘ã©ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«é€šã£ãŸã®ã§æ¬¡ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "# Debugging: `move_semantics4.rs`\n\n```\nâš ï¸  Compiling of exercises/move_semantics/move_semantics4.rs failed! Please try again. Here's the output:\nerror[E0423]: expected value, found macro `vec`\n  --> exercises/move_semantics/move_semantics4.rs:23:19\n   |\n23 |     let mut vec = vec;\n   |                   ^^^ not a value\n   |\nhelp: use `!` to invoke the macro\n   |\n23 |     let mut vec = vec!;\n   |                      ^\n\nerror[E0061]: this function takes 0 arguments but 1 argument was supplied\n  --> exercises/move_semantics/move_semantics4.rs:12:20\n   |\n12 |     let mut vec1 = fill_vec(vec0);\n   |                    ^^^^^^^^ ---- supplied 1 argument\n   |                    |\n   |                    expected 0 arguments\n   |\nnote: function defined here\n  --> exercises/move_semantics/move_semantics4.rs:22:4\n   |\n22 | fn fill_vec() -> Vec<i32> {\n   |    ^^^^^^^^\n\nerror: aborting due to 2 previous errors\n\nSome errors have detailed explanations: E0061, E0423.\nFor more information about an error, try `rustc --explain E0061`.\n```\n\nã¡ã‚‡ã£ã¨æ„å‘³ä¸æ˜ã ã‘ã©é ‘å¼µã‚‹ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "è©²å½“ç®‡æ‰€ã® `README.md` ã«ã¯ã‚„ã¯ã‚Šæ‰€æœ‰æ¨©ï¼ˆownershipï¼‰ã¨å‚ç…§ï¼ˆreferenceï¼‰ãƒ»å€Ÿç”¨ï¼ˆborrowingï¼‰ã‚’å­¦ã¹ã£ã¦æ›¸ã„ã¦ã‚‹ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "- ownership ã¯ãƒ¡ãƒ¢ãƒªç®¡ç†ã®ä»•çµ„ã¿\n- garbage collection ã‚„æ˜ç¤ºçš„ãªç¢ºä¿ãƒ»é–‹æ”¾ã¨ã¯ç•°ãªã‚‹"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "https://doc.rust-lang.org/book/ch04-01-what-is-ownership.html\n\nã“ã‚Œã‚’ã²ãŸã™ã‚‰èª­ã‚€ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "- ownership ã¯ï¼ˆå½“ç„¶ï¼Ÿï¼‰stack ã‚„ heap ã¨é–¢é€£"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "ãƒ’ãƒ¼ãƒ—ã®èª¬æ˜åˆ†ã‹ã‚Šã‚„ã™ã„:\n\n> Think of being seated at a restaurant. When you enter, you state the number of people in your group, and the staff finds an empty table that fits everyone and leads you there. If someone in your group comes late, they can ask where youâ€™ve been seated to find you.",
      "body_updated_at": "2022-03-26"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "èª­ã‚“ã ï¼Œã¨ã‚Šã‚ãˆãšæœ¬æ¥ã® exercise ã«æˆ»ã‚‹ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "ã‚³ãƒ¡ãƒ³ãƒˆæ–‡ã«ã‚ã‚‹æŒ‡ç¤ºã«å¾“ãˆã°ãªã‚“ã¦ã“ã¨ã¯ãªã‹ã£ãŸ:\n\n```\n\nğŸ‰ ğŸ‰  The code is compiling! ğŸ‰ ğŸ‰\n\nOutput:\n====================\nvec1 has length 3 content `[22, 44, 66]`\nvec1 has length 4 content `[22, 44, 66, 88]`\n\n====================\n\nYou can keep working on this exercise,\nor jump into the next one by removing the `I AM NOT DONE` comment:\n\n 5 |  // Execute `rustlings hint move_semantics4` for hints!\n 6 |\n 7 |  // I AM NOT DONE\n 8 |\n 9 |  fn main() {\n```"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "ä»Šã®æ‰€ã¯è§£ç­”å‰ã«ãƒ’ãƒ³ãƒˆã‚’è¦‹ãšã«æ¸ˆã‚“ã§ã„ã‚‹ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "# Debugging `move_semantics5.rs`\n\næŒ‡ç¤ºåˆ†ã«ã‚ã‚‹é€šã‚Šé©å½“ã«è¡Œã‚’ reorder ã—ãŸã‚‰é€šã£ã¦ã—ã¾ã£ãŸï¼Œæ„å‘³ãŒä¸æ˜ãªã®ã§ã¨ã‚Šã‚ãˆãšãƒ’ãƒ³ãƒˆã‚’è¦‹ã‚‹ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-26",
      "body_markdown": "https://doc.rust-lang.org/book/ch04-02-references-and-borrowing.html\n\nã‚’èª­ã‚€ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-27",
      "body_markdown": "èª­ã‚“ã ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-27",
      "body_markdown": "ã—ã‹ã—ï¼Œä¿®æ­£å¾Œã®ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ã‚‚åŒæ™‚ã« `2` ã¤ã® mutable ref. ãŒç”Ÿãã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã‚‹:\n\n```rust\nfn main() {\n    let mut x = 100;\n    let y = &mut x;\n    *y += 100;\n    let z = &mut x;\n    *z += 1000;\n    assert_eq!(x, 1200);\n}\n```\n"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-27",
      "body_markdown": "ã“ã‚Œã‹ï¼\n\n> The scopes of the immutable references r1 and r2 end after the println! where they are last used, which is before the mutable reference r3 is created. These scopes donâ€™t overlap, so this code is allowed. The ability of the compiler to tell that a reference is no longer being used at a point before the end of the scope is called Non-Lexical Lifetimes (NLL for short), and you can read more about it in The Edition Guide."
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-27",
      "body_markdown": " ã“ã‚Œã­\n\nhttps://blog.rust-lang.org/2018/12/06/Rust-1.31-and-rust-2018.html#non-lexical-lifetimes"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-27",
      "body_markdown": "ç´ æ™´ã‚‰ã—ã„è¨€èªä»•æ§˜ã ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-27",
      "body_markdown": "å®Œå…¨ã«ç†è§£ã—ãŸã®ã§æ¬¡ã«è¡Œãã¾ã™ï¼"
    },
    {
      "author": "tarotene",
      "created_at": "2022-03-27",
      "body_markdown": "# æ¬¡å›äºˆå‘Š\n\n```\nâš ï¸  Compiling of exercises/primitive_types/primitive_types1.rs failed! Please try again. Here's the output:\nerror: expected identifier, found keyword `if`\n  --> exercises/primitive_types/primitive_types1.rs:16:5\n   |\n16 |     if is_evening {\n   |     ^^ expected identifier, found keyword\n\nerror: expected one of `:`, `;`, `=`, `@`, or `|`, found `is_evening`\n  --> exercises/primitive_types/primitive_types1.rs:16:8\n   |\n16 |     if is_evening {\n   |        ^^^^^^^^^^ expected one of `:`, `;`, `=`, `@`, or `|`\n\nerror: aborting due to 2 previous errors\n```\n\nprimitive_types ç·¨ã«çªå…¥ã—ã¾ã™ï¼\n"
    }
  ]
}